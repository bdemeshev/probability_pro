<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-0.9.508">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Теорема Эрроу о диктаторе</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="arrow_impossibility_files/libs/clipboard/clipboard.min.js"></script>
<script src="arrow_impossibility_files/libs/quarto-html/quarto.js"></script>
<script src="arrow_impossibility_files/libs/quarto-html/popper.min.js"></script>
<script src="arrow_impossibility_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="arrow_impossibility_files/libs/quarto-html/anchor.min.js"></script>
<link href="arrow_impossibility_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="arrow_impossibility_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="arrow_impossibility_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="arrow_impossibility_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="arrow_impossibility_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet">

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#выбор-между-альтернативами" id="toc-выбор-между-альтернативами" class="nav-link active" data-scroll-target="#выбор-между-альтернативами">Выбор между альтернативами</a></li>
  <li><a href="#рациональность" id="toc-рациональность" class="nav-link" data-scroll-target="#рациональность">Рациональность</a></li>
  <li><a href="#вспоминаем-линейную-алгебру" id="toc-вспоминаем-линейную-алгебру" class="nav-link" data-scroll-target="#вспоминаем-линейную-алгебру">Вспоминаем линейную алгебру</a>
  <ul class="collapse">
  <li><a href="#базис-в-пространстве-всех-функций" id="toc-базис-в-пространстве-всех-функций" class="nav-link" data-scroll-target="#базис-в-пространстве-всех-функций">Базис в пространстве всех функций</a></li>
  <li><a href="#разложение-по-базису" id="toc-разложение-по-базису" class="nav-link" data-scroll-target="#разложение-по-базису">Разложение по базису</a></li>
  <li><a href="#на-охоту-за-коэффициентами" id="toc-на-охоту-за-коэффициентами" class="nav-link" data-scroll-target="#на-охоту-за-коэффициентами">На охоту за коэффициентами</a></li>
  <li><a href="#почти-все-коэффициенты-разложения-нули" id="toc-почти-все-коэффициенты-разложения-нули" class="nav-link" data-scroll-target="#почти-все-коэффициенты-разложения-нули">Почти все коэффициенты разложения — нули</a></li>
  <li><a href="#ищем-диктатора" id="toc-ищем-диктатора" class="nav-link" data-scroll-target="#ищем-диктатора">Ищем диктатора</a></li>
  </ul></li>
  <li><a href="#насколько-нерационально-правило-простого-большинства" id="toc-насколько-нерационально-правило-простого-большинства" class="nav-link" data-scroll-target="#насколько-нерационально-правило-простого-большинства">Насколько нерационально правило простого большинства?</a>
  <ul class="collapse">
  <li><a href="#источники" id="toc-источники" class="nav-link" data-scroll-target="#источники">Источники</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Теорема Эрроу о диктаторе</h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<div class="hidden">
<p><span class="math display">\[
\newcommand\cN{{\mathcal{N}}}
\newcommand\P{{\mathbb{P}}}
\newcommand\E{{\mathbb{E}}}
\newcommand\Var{{\mathrm{Var}}}
\newcommand\Cov{{\mathrm{Cov}}}
\newcommand\Corr{{\mathrm{Corr}}}
\]</span></p>
</div>
<section id="выбор-между-альтернативами" class="level1">
<h1>Выбор между альтернативами</h1>
<p>В городе Энске живут <span class="math inline">\(n\)</span> человек.</p>
<p>По каждому вопросу референдума каждый голосует «за» или «против». Будем кодировать ответ «за» как (+1), а ответ «против» — как (-1).</p>
<p>Жители города хотят придумать функцию общественного выбора <span class="math inline">\(f\)</span>. Эта функция должна ответы всех жителей превращать в выбор общества.</p>
<p>Чего мы хотим от функции <span class="math inline">\(f\)</span>?</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Аксиома единогласия
</div>
</div>
<div class="callout-body-container callout-body">
<p>Если все жители голосуют «за», то функция должна говорить, что город «за»,</p>
<p><span class="math display">\[
f(1, 1, 1, \ldots, 1) = 1.
\]</span></p>
<p>И, аналогично, если все жители голосуют «против», то функция должна говорить, что город «против»,</p>
<p><span class="math display">\[
f(-1, -1, -1, \ldots, -1) = -1.
\]</span></p>
</div>
</div>
<p>Плохо, если функция общественного выбора является диктаторской, то есть, если выбор города полностью продиктован выбором единственного человека. Например, функция <span class="math inline">\(f(x_1, x_2, \ldots, x_n) = x_2\)</span> является диктаторской: житель номер 2 полностью решает всё.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Определение
</div>
</div>
<div class="callout-body-container callout-body">
<p>Функция общественного выбора вида</p>
<p><span class="math display">\[
f(x_1, x_2, \ldots, x_n) = x_i
\]</span></p>
<p>называется <em>диктаторской</em>.</p>
</div>
</div>
<p>Например, функция <span class="math inline">\(f(x_1, x_2, x_3) = x_1 x_2 x_3\)</span> для городка из трёх человек диктаторской не является.</p>
</section>
<section id="рациональность" class="level1">
<h1>Рациональность</h1>
<p>На референдуме мы хотим выбрать упорядочить три алтернативы: А, Б и В. Поэтому на референдуме каждого жителя ждут три вопроса.</p>
<ul>
<li>Правда ли, что <span class="math inline">\(A\)</span> лучше <span class="math inline">\(B\)</span>?</li>
<li>Правда ли, что <span class="math inline">\(B\)</span> лучше <span class="math inline">\(C\)</span>?</li>
<li>Правда ли, что <span class="math inline">\(C\)</span> лучше <span class="math inline">\(A\)</span>?</li>
</ul>
<p>Обозначим ответы горожан на первый вопрос вектором <span class="math inline">\(x\)</span>, на второй — вектором <span class="math inline">\(y\)</span>, на третий — вектором <span class="math inline">\(z\)</span>.</p>
<p>Назовём тройку ответов на вопросы <em>рациональной</em>, если по ней можно однозначно упорядочить альтернативы.</p>
<p>Например, тройка <span class="math inline">\((1, -1, 1)\)</span> означает порядок <span class="math inline">\(С&gt;A&gt;B\)</span>, а тройка <span class="math inline">\((1, 1, 1)\)</span> противоречива.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Рациональный выбор
</div>
</div>
<div class="callout-body-container callout-body">
<p>Выбор (тройка чисел) <span class="math inline">\((a_1, a_2, a_3)\)</span> называется рациональным, если каждое число <span class="math inline">\(a_i \in \{-1, +1\}\)</span> и не все три числа равны между собой.</p>
</div>
</div>
<p>От функции общественного выбора <span class="math inline">\(f\)</span> мы хотим, чтобы при рациональном выборе каждого жителя выбор города был рациональным.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Аксиома рациональности
</div>
</div>
<div class="callout-body-container callout-body">
<p>Функция общественного выбора <span class="math inline">\(f\)</span> называется <em>рациональной</em>, если при рациональном выборе каждого жителя <span class="math inline">\((x_i, y_i, z_i)\)</span> выбор города <span class="math inline">\((f(x), f(y), f(z))\)</span> оказывается рациональным.</p>
</div>
</div>
<p>Например, диктаторская функция <span class="math inline">\(f\)</span> является рациональной. Действительно, диктаторская функция обращает внимание только на предпочтения одного индивида. И если этот индивид рационален, то и выбор города будет рациональным.</p>
<p>Внезапно оказывается, других-то рациональных функций нет.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Теорема Эрроу о диктаторе
</div>
</div>
<div class="callout-body-container callout-body">
<p>Если функция общественного выбора <span class="math inline">\(f\)</span> удовлетворяет аксиомам рациональности и единогласия, то она является диктаторской.</p>
</div>
</div>
<p>Для доказательства будем использовать мощь линейной алгебры и теории вероятностей.</p>
</section>
<section id="вспоминаем-линейную-алгебру" class="level1">
<h1>Вспоминаем линейную алгебру</h1>
<p>Аргументом функции общественного выбора является вектор из (+1) и (-1). Зададим неожиданное скалярное произведение.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Скалярное произведение
</div>
</div>
<div class="callout-body-container callout-body">
<p>Для произвольных функций общественого выбора <span class="math inline">\(f\)</span> и <span class="math inline">\(g\)</span> определим</p>
<p><span class="math display">\[
\langle f, g \rangle = \E(f(X)g(X)),
\]</span></p>
<p>где <span class="math inline">\(X\)</span> — случайный вектор, все компоненты которого независимы и равны (+1) или (-1).</p>
</div>
</div>
<p>Подчеркнем, что мы не предполагаем, что жители города на самом деле голосуют случайно и независимо друг от друга. Скалярное произведение — это всего лишь инструмент для изучения функций.</p>
<p>Давайте попробуем посчитать пару скалярных произведений.</p>
<p>Например, возьмём две разных диктаторских функции, <span class="math inline">\(f(x) = x_1\)</span> и <span class="math inline">\(g(x) = x_2\)</span>. В этом случае <span class="math inline">\(\langle f, g\rangle = \E(X_1 X_2) = \E(X_1) \E(X_2) = 0\)</span>.</p>
<p>Рассмотрим ещё один пример, <span class="math inline">\(f(x)=x_1 x_2 x_3\)</span>, <span class="math inline">\(g(x) = x_2 x_3 x_5\)</span>. Получаем <span class="math inline">\(\langle f, g\rangle = \E(X_1 X_2^2 X_3^2 X_5) = \E(X_1) \E(X_2^2) \E(X_3^2) \E(X_5) = 0\)</span>.</p>
<p>И, конечно, для любой функции общественного выбора <span class="math inline">\(\langle f, f\rangle = \E(1) = 1\)</span>. Если случайную величину, принимающую значения (-1) или (+1) домножить на себя, то всегда будет получаться (+1).</p>
<section id="базис-в-пространстве-всех-функций" class="level2">
<h2 class="anchored" data-anchor-id="базис-в-пространстве-всех-функций">Базис в пространстве всех функций</h2>
<p>Рассмотрим множество <span class="math inline">\(V\)</span> всех действительных функций, заданных на векторах из <span class="math inline">\(n\)</span> чисел, равных <span class="math inline">\(+1\)</span> или <span class="math inline">\(-1\)</span>. В этом множестве функций <span class="math inline">\(V\)</span> есть все функции общественного выбора, но также там есть куча бессмысленных для нас функций, которые хотя бы где-то принимают значения отличные от <span class="math inline">\(+1\)</span> или <span class="math inline">\(-1\)</span>.</p>
<p>Это множество <span class="math inline">\(V\)</span> является векторным пространством, так как при сложении двух функций между собой или при умножении функции на число мы снова получим функцию.</p>
<p>Найдём размерность пространства <span class="math inline">\(V\)</span>.</p>
<p>Например, если <span class="math inline">\(n=3\)</span>, то размерность пространства <span class="math inline">\(V\)</span> равна 8. Существует <span class="math inline">\(2^3\)</span> возможных значений аргумента <span class="math inline">\(x\)</span>, ведь <span class="math inline">\(x= (x_1, x_2, x_3)\)</span>, а каждый <span class="math inline">\(x_i \in \{-1, +1\}\)</span>. Если не требовать от <span class="math inline">\(f\)</span> никаких аксиом, то при каждом значении вектора <span class="math inline">\(x\)</span> мы можем определить функцию <span class="math inline">\(f\)</span> произвольным образом, то есть для полного определения <span class="math inline">\(f\)</span> потребуется 8 чисел. В общем случае размерность пространства <span class="math inline">\(V\)</span> равна <span class="math inline">\(2^n\)</span>.</p>
<p>Можно задать в пространстве <span class="math inline">\(V\)</span> разные базисы.</p>
<p>Например, можно задать базис из индикаторов каждой возможной точки,</p>
<p><span class="math display">\[
A = \{ I[+++], I[++-], I[+-+], \ldots, I[---]\}
\]</span></p>
<p>Функция <span class="math inline">\(I[+-+]\)</span> равна 1 в точке <span class="math inline">\(x = (+1, -1, +1)\)</span> и равна 0 в остальных точка.</p>
<p>Можно задать более хитрый базис!</p>
<p><span class="math display">\[
B = \{1, x_1, x_2, x_3, x_1 x_2, x_1 x_3, x_2 x_3, x_1 x_2 x_3\}
\]</span></p>
<p>В множестве <span class="math inline">\(B\)</span> ровно 8 элементов. Чтобы доказать, что <span class="math inline">\(B\)</span> — базис осталось доказать только независимость. Заметим, что согласно нашему скалярному произведению все векторы в <span class="math inline">\(B\)</span> имеют единичную длину и ортогональны друг другу, <span class="math inline">\(\langle b_i, b_i \rangle =1\)</span>, <span class="math inline">\(\langle b_i, b_j \rangle = 0\)</span> при <span class="math inline">\(i\neq j\)</span>. Из ортогональности следует независимость.</p>
<div class="callout-caution callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Доказательство независимости функций из <span class="math inline">\(B\)</span>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Предположим противное, что одна из функций в множестве <span class="math inline">\(B\)</span> выражается через другие. К примеру пусть функция <span class="math inline">\(b_3\)</span> выражается через остальные функции из множества <span class="math inline">\(B\)</span>:</p>
<p><span class="math display">\[
b_3 = \alpha_1 b_1 + \alpha_2 b_2 + \alpha_4 b_4 +\ldots + \alpha_8 b_8.
\]</span></p>
<p>Посчитаем скалярное произведение левой и правой частей с <span class="math inline">\(b_3\)</span>. Слева окажется <span class="math inline">\(1\)</span>, а справа получится сумма нулей. Значит, функция <span class="math inline">\(b_3\)</span> не выражается через остальные функции из <span class="math inline">\(B\)</span>. Аналогично доказывается, что ни одна из функций не может быть выражена через другие. Таким образом, <span class="math inline">\(B\)</span> — действительно базис.</p>
</div>
</div>
</div>
<p>Для произвольного количества жителей <span class="math inline">\(n\)</span> базис <span class="math inline">\(B\)</span> всех функций, заданных на векторах ответах жителей, состоит из <span class="math inline">\(2^n\)</span> функций. Каждая функция базиса является перемножений некоторых <span class="math inline">\(x_i\)</span>.</p>
<p>&lt;— TODO: надо ли? —&gt; Для удобства обозначим элементы базиса <span class="math inline">\(B\)</span> покороче, упомянув перемножаемые номера <span class="math inline">\(x_i\)</span> в одном общем индексе. Например,</p>
<p><span class="math display">\[
x_{1, 2, 7} = x_1 x_2 x_7.
\]</span></p>
</section>
<section id="разложение-по-базису" class="level2">
<h2 class="anchored" data-anchor-id="разложение-по-базису">Разложение по базису</h2>
<p>Разложим для тренировки пару функций по базису <span class="math inline">\(B\)</span>. Первое разложение нам понадобится для доказательства, а второе — просто неплохое упражнение на понимание.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Упражнение
</div>
</div>
<div class="callout-body-container callout-body">
<p>Индикатор рациональности выбора <span class="math inline">\(R(a, b, c)\)</span> равна +1 для рационального выбора <span class="math inline">\((a, b, c)\)</span> и 0 для нерационального выбора из трех одинаковых чисел, <span class="math inline">\(R(1, 1, 1) = R(-1, -1, -1) =0\)</span>.</p>
<p>Разложите функцию <span class="math inline">\(R\)</span> по базису <span class="math inline">\(B\)</span>.</p>
</div>
</div>
<div class="callout-caution callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Решение упражнения про функцию рациональности
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>В силу симметрии нам требуется найти всего лишь четыре константы:</p>
<p><span class="math display">\[
R(x) = \alpha + \beta(x_1 + x_2 + x_3) + \gamma(x_1 x_2 + x_1 x_3 + x_2 x_4) + \delta x_1 x_2 x_3.
\]</span></p>
<p>Составляем четыре уравнения:</p>
<p><span class="math display">\[
\begin{cases}
R(1, 1, 1) = \alpha + 3\beta + 3\gamma + \delta = 0 \\
R(-1, -1, -1) = \alpha - 3\beta + 3\gamma - \delta = 0 \\
R(1, 1, -1) = \alpha + \beta - \gamma - \delta = 1 \\
R(-1, -1, 1) = \alpha  - \beta - \gamma + \delta = 1 \\
\end{cases}
\]</span></p>
<p>Замечаем, что функция чётная, поэтому <span class="math inline">\(\beta = \delta = 0\)</span>.</p>
<p><span class="math display">\[
\begin{cases}
R(1, 1, 1) = \alpha + 3\gamma  = 0 \\
R(1, 1, -1) = \alpha - \gamma  = 1 \\
\end{cases}
\]</span></p>
<p>Получаем <span class="math inline">\(\beta = \delta = 0\)</span>, <span class="math inline">\(\gamma = -1/4\)</span>, <span class="math inline">\(\alpha = 3/4\)</span> и</p>
<p><span class="math display">\[
R(x) = 0.75 - 0.25(x_1 x_2 + x_1 x_3 + x_2 x_4).
\]</span></p>
</div>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Упражнение
</div>
</div>
<div class="callout-body-container callout-body">
<p>Рассмотрим город из трёх жителей и <em>мажоритарную</em> функцию общественного выбора <span class="math inline">\(M(x_1, x_2, x_3)\)</span>. Мажоритарная функция функция <span class="math inline">\(M\)</span> выбирает тот ответ, которые выбрало большинство жителей города.</p>
<ol type="1">
<li><p>Разложите функцию <span class="math inline">\(M\)</span> по базису <span class="math inline">\(B\)</span>.</p></li>
<li><p>Является ли функция <span class="math inline">\(M\)</span> рациональной?</p></li>
</ol>
</div>
</div>
<div class="callout-caution callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-11-contents" aria-controls="callout-11" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Решение упражнения про мажоритарную функцию
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-11" class="callout-11-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>В силу симметрии нам требуется найти всего лишь четыре константы:</p>
<p><span class="math display">\[
M(x) = \alpha + \beta(x_1 + x_2 + x_3) + \gamma(x_1 x_2 + x_1 x_3 + x_2 x_4) + \delta x_1 x_2 x_3.
\]</span></p>
<p>Если помножить на (-1) выбор каждого жителя, выбор города множится на (-1). Получается, что функция <span class="math inline">\(M\)</span> нечётная, поэтому <span class="math inline">\(\alpha = \gamma = 0\)</span>.</p>
<p>Составляем два уравнения:</p>
<p><span class="math display">\[
\begin{cases}
M(1, 1, 1) = 3\beta + \delta = 1 \\
M(1, 1, -1) = \beta  - \delta = 1 \\
\end{cases}
\]</span></p>
<p>Получаем <span class="math inline">\(\beta = 0.5\)</span>, <span class="math inline">\(\delta = -0.5\)</span>, <span class="math inline">\(\gamma = 0\)</span>, <span class="math inline">\(\alpha = 0\)</span> и</p>
<p><span class="math display">\[
M(x) = 0.5(x_1 + x_2 + x_3) - 0.5x_1 x_2 x_3.
\]</span></p>
</div>
</div>
</div>
<p>Теперь разложим по базису <span class="math inline">\(B\)</span> произвольную функцию общественного выбора <span class="math inline">\(f\)</span>. Обозначим коэффициент перед <span class="math inline">\(x_S\)</span> как <span class="math inline">\(\hat f_S\)</span>.</p>
<p><span class="math display">\[
f  =  \hat f_{\emptyset} \cdot 1 + \hat f_1 \cdot x_1 + \ldots + \hat f_{1,2,7} x_{1,2,7} + \ldots
\]</span></p>
<p>Если компактно,</p>
<p><span class="math display">\[
f = \sum_S \hat f_S x_S,
\]</span></p>
<p>где подмножество <span class="math inline">\(S\)</span> — часть множества натуральных чисел от <span class="math inline">\(1\)</span> до <span class="math inline">\(n\)</span>, <span class="math inline">\(S \subset \{1, 2, \ldots, n\}\)</span>.</p>
<p>Теперь теорему Эрроу можно переформулировать на языке линейной алгебры.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Переформулировка теоремы Эрроу о диктаторе
</div>
</div>
<div class="callout-body-container callout-body">
<p>В разложении по базису <span class="math inline">\(B\)</span> рациональной единогласной функции общественного выбора <span class="math inline">\(f\)</span> все коэффициенты за одним исключением равны 0. Единственный ненулевой коэффициент это некое <span class="math inline">\(\hat f_i = 1\)</span>.</p>
</div>
</div>
</section>
<section id="на-охоту-за-коэффициентами" class="level2">
<h2 class="anchored" data-anchor-id="на-охоту-за-коэффициентами">На охоту за коэффициентами</h2>
<p>В теории рядов Фурье известно <em>тождество Парсеваля</em>.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Тождество Парсеваля
</div>
</div>
<div class="callout-body-container callout-body">
<p><span class="math display">\[
1=\langle f, f\rangle = \sum_S \hat f_S^2
\]</span></p>
</div>
</div>
<div class="callout-caution callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-14-contents" aria-controls="callout-14" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Доказательство тождество Парсеваля
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-14" class="callout-14-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Вспомним, что скалярное произведение <span class="math inline">\(\langle f, f\rangle\)</span> считается как ожидание <span class="math inline">\(\E(f(X)f(X))\)</span> в случайном векторе <span class="math inline">\(X\)</span>, компоненты которого равновероятно равны (-1) и (+1).</p>
<p>Замечаем, что <span class="math inline">\(f(X)f(X) = 1\)</span>, поэтому <span class="math inline">\(\langle f, f\rangle = 1\)</span>.</p>
<p>Разложим внутри скалярного произведения каждую <span class="math inline">\(f\)</span> по базису</p>
<p><span class="math display">\[
\langle \sum_S \hat f_S x_S, \sum_Q \hat f_Q x_Q \rangle = 1
\]</span></p>
<p>Раскрываем скобки и вспоминаем, что наш базис — ортонормальный, <span class="math inline">\(\langle x_S, x_Q \rangle = 0\)</span>, если подмножества <span class="math inline">\(S\)</span> и <span class="math inline">\(Q\)</span> не совпадают, а <span class="math inline">\(\langle x_S, x_S \rangle = 1\)</span>.</p>
<p>Тем самым,</p>
<p><span class="math display">\[
1=\langle f, f\rangle = \sum_S \hat f_S^2
\]</span></p>
</div>
</div>
</div>
<p>Мы доказали, что квадраты коэффициентов <span class="math inline">\(\hat f_S^2\)</span> в сумме дают единицу. Заметим, что мажоритарная функция из упражнения удовлетворяет этому критерию, <span class="math inline">\(0.5^2 + 0.5^2 + 0.5^2 + (-0.5)^2=1\)</span>.</p>
</section>
<section id="почти-все-коэффициенты-разложения-нули" class="level2">
<h2 class="anchored" data-anchor-id="почти-все-коэффициенты-разложения-нули">Почти все коэффициенты разложения — нули</h2>
<p>Теперь мы готовы доказать, что все коэффициенты помимо коэффициентов при отдельных <span class="math inline">\(x_i\)</span> равны нулю, то есть, что функция <span class="math inline">\(f\)</span> имеет всего лишь вид</p>
<p><span class="math display">\[
f(x) = \alpha_1 x_1 + \alpha_2 x_2 + \ldots +\alpha_n x_n,
\]</span></p>
<p>а более сложные слагаемые вида <span class="math inline">\(x_1 x_7\)</span>, <span class="math inline">\(x_2 x_5 x_9\)</span> отсутствуют.</p>
<p>… тут дописать …</p>
</section>
<section id="ищем-диктатора" class="level2">
<h2 class="anchored" data-anchor-id="ищем-диктатора">Ищем диктатора</h2>
<p>Итак, мы доказали, что функция <span class="math inline">\(f\)</span> имеет вид</p>
<p><span class="math display">\[
f(x) = \alpha_1 x_1 + \alpha_2 x_2 + \ldots +\alpha_n x_n.
\]</span></p>
<p>Заметим, что <span class="math inline">\(f\)</span> принимает только значения <span class="math inline">\((-1)\)</span> и <span class="math inline">\((+1)\)</span>, поэтому при изменении любого <span class="math inline">\(x_i\)</span> с (-1) до (+1) функция <span class="math inline">\(f\)</span> либо не должна измениться совсем, либо должна измениться ровно на 2.</p>
<p>Следовательно, каждое <span class="math inline">\(\alpha_i\)</span> может принимать только значения <span class="math inline">\(0\)</span>, <span class="math inline">\(-1\)</span> или <span class="math inline">\(1\)</span>.</p>
<p>Из равенства Парсеваля следует, что <span class="math inline">\(\sum \alpha_i^2=1\)</span>, поэтому ровно одно <span class="math inline">\(\alpha_i\)</span> отлично от нуля. По аксиоме единигласия это <span class="math inline">\(\alpha_i = 1\)</span>.</p>
<p>Ура, мы доказали, теорему Эрроу. Любая рациональная единогласная функция общественного выбора является диктаторской, и имеет вид</p>
<p><span class="math display">\[
f(x) = x_i.
\]</span></p>
<p>У Джеймса Мерфи в <span class="citation" data-cites="murphy2015arrow">(<a href="#ref-murphy2015arrow" role="doc-biblioref">Murphy III 2015</a>)</span> этот кусок доказательства концептуально сложней, но трюк настолько виртуозен, что его стоит повторить.</p>
</section>
</section>
<section id="насколько-нерационально-правило-простого-большинства" class="level1">
<h1>Насколько нерационально правило простого большинства?</h1>
<p>….</p>
<section id="источники" class="level2">
<h2 class="anchored" data-anchor-id="источники">Источники</h2>
<p>В основном изложение следует статье <span class="citation" data-cites="murphy2015arrow">(<a href="#ref-murphy2015arrow" role="doc-biblioref">Murphy III 2015</a>)</span>. Немного упростил поиск коэффициентов в функции рациональности и участок доказательства с равенством нулю всех <span class="math inline">\(\alpha_i\)</span> кроме одного, добавил больше примеров.</p>
<p>На Бесконечной салфетке Эвана Чена <span class="citation" data-cites="chen2016infinitely">(<a href="#ref-chen2016infinitely" role="doc-biblioref">Chen 2016</a>)</span> есть похожее доказательство. И это классный повод взглянуть в этот шикарный текст, если читатель его ещё не видел.</p>

</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-chen2016infinitely" class="csl-entry" role="doc-biblioentry">
Chen, Evan. 2016. <span>“An Infinitely Large Napkin.”</span> Cambridge, Massachusetts: Massachusetts Institute of Technology. <a href="https://github.com/vEnhance/napkin/">https://github.com/vEnhance/napkin/</a>.
</div>
<div id="ref-murphy2015arrow" class="csl-entry" role="doc-biblioentry">
Murphy III, James T. 2015. <span>“ARROW’s THEOREM BY BOOLEAN FOURIER ANALYSIS.”</span> <a href="https://intfxdx.com/downloads/arrow-boolean-fourier-2015.pdf">https://intfxdx.com/downloads/arrow-boolean-fourier-2015.pdf</a>.
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>